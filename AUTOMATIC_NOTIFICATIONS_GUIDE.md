# ๐ ุฏููู ุงูุฅุดุนุงุฑุงุช ุงูุชููุงุฆูุฉ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ูุธุงู ุฅุดุนุงุฑุงุช ุชููุงุฆู ุดุงูู ูุฑุณู ุฅุดุนุงุฑุงุช ูููุญุงุณุจูู ูุงููุฏูุฑูู ุนูุฏ ุญุฏูุซ ุฃู ุญุฏุซ ููู ูู ุงููููุน.

---

## ๐ฏ ุฃููุงุน ุงูุฅุดุนุงุฑุงุช

### 1. **ุฅุดุนุงุฑุงุช ุทูุจุงุช ุงูุฏูุน**

#### โ ุนูุฏ ุฅูุดุงุก ุทูุจ ุฏูุน ุฌุฏูุฏ (ูู ุงููุณุชุฎุฏู)

-   **ุงููุณุชูููู:** ุงููุญุงุณุจูู ูุงููุฏูุฑูู
-   **ุงูุนููุงู:** "ุทูุจ ุฏูุน ุฌุฏูุฏ"
-   **ุงููุญุชูู:** "ุชู ุฅุฑุณุงู ุทูุจ ุฏูุน ุฌุฏูุฏ ูู ุงููุณุชุฎุฏู {username} ุจูุจูุบ {amount} {currency}"
-   **ุงูุฃููููุฉ:** ูููุฉ (1)
-   **ุงูุฑุงุจุท:** `/admin/payment-requests/{id}`

#### โ ุนูุฏ ูุจูู ุทูุจ ุฏูุน

-   **ุงููุณุชูููู:** ุตุงุญุจ ุงูุทูุจ
-   **ุงูุนููุงู:** "ุชู ูุจูู ุทูุจ ุงูุฏูุน"
-   **ุงููุญุชูู:** "ุชู ูุจูู ุทูุจ ุงูุฏูุน ุงูุฎุงุต ุจู ุจูุจูุบ {amount} {currency}"
-   **ุงูุฃููููุฉ:** ูููุฉ (1)
-   **ุงูุฑุงุจุท:** `/payment-requests/{id}`

#### โ ุนูุฏ ุฑูุถ ุทูุจ ุฏูุน

-   **ุงููุณุชูููู:** ุตุงุญุจ ุงูุทูุจ
-   **ุงูุนููุงู:** "ุชู ุฑูุถ ุทูุจ ุงูุฏูุน"
-   **ุงููุญุชูู:** "ุชู ุฑูุถ ุทูุจ ุงูุฏูุน ุงูุฎุงุต ุจู. ุงูุณุจุจ: {reason}"
-   **ุงูุฃููููุฉ:** ุนุงุฌูุฉ (2)
-   **ุงูุฑุงุจุท:** `/payment-requests/{id}`

#### โ ุนูุฏ ุฅุถุงูุฉ ุฏูุนุฉ ููุฏูุฉ

-   **ุงููุณุชูููู:** ุงููุฏูุฑูู ููุท
-   **ุงูุนููุงู:** "ุฏูุนุฉ ููุฏูุฉ ุฌุฏูุฏุฉ" ุฃู "ุฏูุนุฉ ูุคุฌูุฉ ุฌุฏูุฏุฉ"
-   **ุงููุญุชูู:** "ุชู ุฅุถุงูุฉ ุฏูุนุฉ ููุฏูุฉ/ูุคุฌูุฉ ูููุณุชุฎุฏู {username} ุจูุจูุบ {amount} {currency}"
-   **ุงูุฃููููุฉ:** ูููุฉ (1)
-   **ุงูุฑุงุจุท:** `/admin/payment-requests/{id}`

#### โ ุนูุฏ ุฅุถุงูุฉ ุฏูุนุฉ ุฌุฒุฆูุฉ

-   **ุงููุณุชูููู:** ุงููุฏูุฑูู ููุท
-   **ุงูุนููุงู:** "ุฏูุนุฉ ุฌุฒุฆูุฉ ุฌุฏูุฏุฉ" ุฃู "ุชู ุฅููุงู ุฏูุนุฉ ูุคุฌูุฉ"
-   **ุงููุญุชูู:** "ุชู ุฅุถุงูุฉ ุฏูุนุฉ ุฌุฒุฆูุฉ ุจูููุฉ {amount} ูููุณุชุฎุฏู {username}. ุงููุชุจูู: {remaining}"
-   **ุงูุฃููููุฉ:** ูููุฉ (1)
-   **ุงูุฑุงุจุท:** `/admin/payment-requests/{id}`

#### โ ุนูุฏ ุฅููุงู ุฏูุนุฉ ูุคุฌูุฉ

-   **ุงููุณุชูููู:** ุงููุฏูุฑูู ููุท
-   **ุงูุนููุงู:** "ุชู ุฅููุงู ุฏูุนุฉ ูุคุฌูุฉ"
-   **ุงููุญุชูู:** "ุชู ุฅููุงู ุงูุฏูุนุฉ ุงููุคุฌูุฉ ูููุณุชุฎุฏู {username} ุจุงููุงูู"
-   **ุงูุฃููููุฉ:** ูููุฉ (1)
-   **ุงูุฑุงุจุท:** `/admin/payment-requests/{id}`

---

### 2. **ุฅุดุนุงุฑุงุช ุทูุจุงุช ุงูุตูุงูุฉ**

#### โ ุนูุฏ ุฅูุดุงุก ุทูุจ ุตูุงูุฉ ุฌุฏูุฏ

-   **ุงููุณุชูููู:** ุงููุญุงุณุจูู ูุงููุฏูุฑูู
-   **ุงูุนููุงู:** "ุทูุจ ุตูุงูุฉ ุฌุฏูุฏ"
-   **ุงููุญุชูู:** "ุชู ุฅุฑุณุงู ุทูุจ ุตูุงูุฉ ุฌุฏูุฏ ูู ุงููุณุชุฎุฏู {username}"
-   **ุงูุฃููููุฉ:** ูููุฉ (1)
-   **ุงูุฑุงุจุท:** `/admin/maintenance-requests/{id}`

#### โ ุนูุฏ ุชุญุฏูุซ ุญุงูุฉ ุทูุจ ุงูุตูุงูุฉ

-   **ุงููุณุชูููู:** ุตุงุญุจ ุงูุทูุจ
-   **ุงูุนููุงู:** "ุชุญุฏูุซ ุญุงูุฉ ุทูุจ ุงูุตูุงูุฉ"
-   **ุงููุญุชูู:** "ุชู ุชุญุฏูุซ ุญุงูุฉ ุทูุจ ุงูุตูุงูุฉ ุงูุฎุงุต ุจู ุฅูู: {status}"
-   **ุงูุฃููููุฉ:** ูููุฉ (1)
-   **ุงูุฑุงุจุท:** `/maintenance-requests/{id}`

#### โ ุนูุฏ ุฅููุงู ุทูุจ ุตูุงูุฉ

-   **ุงููุณุชูููู:** ุงููุฏูุฑูู ููุท
-   **ุงูุนููุงู:** "ุชู ุฅููุงู ุทูุจ ุตูุงูุฉ"
-   **ุงููุญุชูู:** "ุชู ุฅููุงู ุทูุจ ุงูุตูุงูุฉ ูููุณุชุฎุฏู {username}"
-   **ุงูุฃููููุฉ:** ูููุฉ (1)
-   **ุงูุฑุงุจุท:** `/admin/maintenance-requests/{id}`

---

## ๐ง ุงูุฏูุงู ุงููุถุงูุฉ ูู NotificationService

### 1. `sendToAdmins(array $data)`

ุฅุฑุณุงู ุฅุดุนุงุฑ ูููุฏูุฑูู ููุท (role = 2)

```php
$this->notificationService->sendToAdmins([
    'title' => 'ุนููุงู ุงูุฅุดุนุงุฑ',
    'body' => 'ูุญุชูู ุงูุฅุดุนุงุฑ',
    'type' => 'system',
    'priority' => 1,
    'action_url' => '/admin/path',
    'action_text' => 'ุนุฑุถ',
    'icon' => 'icon_name',
]);
```

### 2. `sendToAccountants(array $data)`

ุฅุฑุณุงู ุฅุดุนุงุฑ ูููุญุงุณุจูู ููุท (role = 1)

```php
$this->notificationService->sendToAccountants([
    'title' => 'ุนููุงู ุงูุฅุดุนุงุฑ',
    'body' => 'ูุญุชูู ุงูุฅุดุนุงุฑ',
    // ... ููุณ ุงูุญููู
]);
```

### 3. `sendToAdminsAndAccountants(array $data)`

ุฅุฑุณุงู ุฅุดุนุงุฑ ูููุฏูุฑูู ูุงููุญุงุณุจูู (role = 1 ุฃู 2)

```php
$this->notificationService->sendToAdminsAndAccountants([
    'title' => 'ุนููุงู ุงูุฅุดุนุงุฑ',
    'body' => 'ูุญุชูู ุงูุฅุดุนุงุฑ',
    // ... ููุณ ุงูุญููู
]);
```

---

## ๐ ุฌุฏูู ุงูุฅุดุนุงุฑุงุช ุญุณุจ ุงูุญุฏุซ

| ุงูุญุฏุซ            | ุงููุณุชูููู    | ุงูุฃููููุฉ | ุงูููุน  |
| ---------------- | ------------ | -------- | ------ |
| ุฅูุดุงุก ุทูุจ ุฏูุน    | ูุญุงุณุจ + ูุฏูุฑ | 1        | system |
| ูุจูู ุทูุจ ุฏูุน     | ุงููุณุชุฎุฏู     | 1        | system |
| ุฑูุถ ุทูุจ ุฏูุน      | ุงููุณุชุฎุฏู     | 2        | system |
| ุฅุถุงูุฉ ุฏูุนุฉ ููุฏูุฉ | ูุฏูุฑ         | 1        | system |
| ุฅุถุงูุฉ ุฏูุนุฉ ุฌุฒุฆูุฉ | ูุฏูุฑ         | 1        | system |
| ุฅููุงู ุฏูุนุฉ ูุคุฌูุฉ | ูุฏูุฑ         | 1        | system |
| ุฅูุดุงุก ุทูุจ ุตูุงูุฉ  | ูุญุงุณุจ + ูุฏูุฑ | 1        | system |
| ุชุญุฏูุซ ุญุงูุฉ ุตูุงูุฉ | ุงููุณุชุฎุฏู     | 1        | system |
| ุฅููุงู ุทูุจ ุตูุงูุฉ  | ูุฏูุฑ         | 1        | system |

---

## ๐จ ุงูุฃููููุงุช ุงููุณุชุฎุฏูุฉ

-   `payment` - ููุฏูุนุงุช ูุงูุทูุจุงุช ุงููุงููุฉ
-   `check_circle` - ูููุจูู ูุงูุฅููุงู
-   `cancel` - ููุฑูุถ
-   `build` - ูุทูุจุงุช ุงูุตูุงูุฉ
-   `info` - ูููุนูููุงุช ุงูุนุงูุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุฌููุน ุงูุฅุดุนุงุฑุงุช ุชูุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช** ูู ุฌุฏูู `notifications`
2. **ุงูุฅุดุนุงุฑุงุช ุชูุฑุณู ุชููุงุฆูุงู** ุนูุฏ ุญุฏูุซ ุงูุญุฏุซ
3. **ุงูุฅุดุนุงุฑุงุช ุชูุฑุจุท ุจุงููุณุชุฎุฏููู** ูู ุฌุฏูู `notification_user`
4. **ูููู ุฅุถุงูุฉ Push Notifications** ูุงุญูุงู ูู ุฏุงูุฉ `sendPushNotification`

---

## ๐ ุฅุถุงูุฉ ุฅุดุนุงุฑุงุช ุฌุฏูุฏุฉ

ูุฅุถุงูุฉ ุฅุดุนุงุฑ ุฌุฏูุฏ ูู ุฃู Controller:

```php
use App\Services\NotificationService;

class YourController extends Controller
{
    public function __construct(
        protected NotificationService $notificationService
    ) {}

    public function yourMethod()
    {
        // ... ููุฏู

        // ุฅุฑุณุงู ุฅุดุนุงุฑ
        $this->notificationService->sendToAdminsAndAccountants([
            'title' => 'ุนููุงู ุงูุฅุดุนุงุฑ',
            'body' => 'ูุญุชูู ุงูุฅุดุนุงุฑ',
            'type' => 'system',
            'priority' => 1,
            'action_url' => '/admin/path',
            'action_text' => 'ุนุฑุถ',
            'icon' => 'icon_name',
        ]);
    }
}
```

---

## โ ุงูููุฒุงุช

-   โ ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ ูุฌููุน ุงูุฃุญุฏุงุซ ุงููููุฉ
-   โ ุชุญุฏูุฏ ุงููุณุชูููู ุญุณุจ ุงูุฏูุฑ (ูุฏูุฑ/ูุญุงุณุจ/ูุณุชุฎุฏู)
-   โ ุญูุธ ุฌููุน ุงูุฅุดุนุงุฑุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
-   โ ุฑูุงุจุท ูุจุงุดุฑุฉ ููุตูุญุงุช ุฐุงุช ุงูุตูุฉ
-   โ ุฃููููุงุช ูุฎุชููุฉ ููุฅุดุนุงุฑุงุช
-   โ ุฃููููุงุช ูููุฒุฉ ููู ููุน ุฅุดุนุงุฑ

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 2025-12-14
